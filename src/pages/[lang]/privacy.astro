---
import Layout from '../../layouts/Layout.astro';
import { getLangFromUrl, supportedLangs } from '../../i18n/config';

export function getStaticPaths() {
  return supportedLangs.map(lang => ({ params: { lang } }));
}

const lang = getLangFromUrl(Astro.url);

const content = {
  zh: {
    title: "隐私政策",
    sections: [
      {
        title: "1. 信息收集",
        content: [
          "我们仅收集您在使用 AppliCrawler 过程中必要的信息，包括：",
          "- 您手动保存的职位信息",
          "- 基本的使用统计数据"
        ]
      },
      {
        title: "2. 信息使用",
        content: [
          "我们收集的信息仅用于：",
          "- 提供和改进 AppliCrawler 的服务",
          "- 为您提供个性化的职位推荐"
        ]
      },
      {
        title: "3. 信息安全",
        content: [
          "我们采用行业标准的安全措施保护您的数据：",
          "- 所有数据传输采用 HTTPS 加密",
          "- 定期安全审计和更新"
        ]
      },
      {
        title: "4. 信息共享",
        content: [
          "我们不会将您的个人信息出售、出租或与第三方共享，除非：",
          "- 获得您的明确授权",
          "- 法律法规要求"
        ]
      },
      {
        title: "5. 您的权利",
        content: [
          "您有权：",
          "- 访问和导出您的数据",
          "- 要求删除您的账户和数据",
          "- 选择退出数据收集"
        ]
      }
    ],
    backToHome: "← 返回首页"
  },
  en: {
    title: "Privacy Policy",
    sections: [
      {
        title: "1. Information Collection",
        content: [
          "We only collect necessary information during your use of AppliCrawler, including:",
          "- Job information you manually save",
          "- Basic usage statistics"
        ]
      },
      {
        title: "2. Information Usage",
        content: [
          "We use the collected information only for:",
          "- Providing and improving AppliCrawler services",
          "- Offering personalized job recommendations"
        ]
      },
      {
        title: "3. Information Security",
        content: [
          "We implement industry-standard security measures to protect your data:",
          "- All data transmission uses HTTPS encryption",
          "- Regular security audits and updates"
        ]
      },
      {
        title: "4. Information Sharing",
        content: [
          "We do not sell, rent, or share your personal information with third parties unless:",
          "- We have your explicit authorization",
          "- Required by law"
        ]
      },
      {
        title: "5. Your Rights",
        content: [
          "You have the right to:",
          "- Access and export your data",
          "- Request deletion of your account and data",
          "- Opt-out of data collection"
        ]
      }
    ],
    backToHome: "← Back to Home"
  }
};

const pageContent = content[lang as keyof typeof content];
---

<Layout title={`${pageContent.title} - AppliCrawler`} lang={lang}>
  <div class="privacy-page">
    <div class="container">
      <h1>{pageContent.title}</h1>
      
      {pageContent.sections.map(section => (
        <>
          <h2>{section.title}</h2>
          {section.content.map(text => (
            <p>{text}</p>
          ))}
        </>
      ))}

      <a href={`/${lang}`} class="back-link">{pageContent.backToHome}</a>
    </div>
  </div>
</Layout>

<style>
  .privacy-page {
    padding: 8rem 0;
  }

  .container {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  h1 {
    font-size: 2.5rem;
    color: rgb(var(--primary));
    margin-bottom: 2rem;
    text-align: center;
  }

  h2 {
    font-size: 1.5rem;
    color: rgb(var(--primary));
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  p {
    margin-bottom: 1rem;
    color: rgba(var(--text), 0.8);
    line-height: 1.6;
  }

  .back-link {
    display: inline-block;
    margin-top: 2rem;
    color: rgb(var(--primary));
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s ease;
  }

  .back-link:hover {
    color: rgba(var(--primary), 0.8);
  }

  @media (max-width: 768px) {
    .privacy-page {
      padding: 6rem 0;
    }

    .container {
      padding: 0 1rem;
    }

    h1 {
      font-size: 2rem;
    }

    h2 {
      font-size: 1.25rem;
    }
  }
</style>